<div
  class="mt-3 border-2 sm:min-w-80 mx-auto bg-white rounded-xl flex flex-col"
  (click)="seeApplicants(jobPost?.id)"
>
  <div class="flex py-2 w-full justify-between">
    <div class="flex">
      <div>
        <img
          [src]="displayImage || '../../../../../assets/pan.png'"
          class="w-16 h-16 ml-2 rounded-lg"
        />
      </div>
      <div class="py-1 ms-3">
        <h2 class="text-base sm:text-2xl">{{ jobPost?.title }}</h2>
        <div class="flex mt-1 gap-4">
          <h6 class="text-sm text-dark-5 font-poppins-regular">
            {{ bakeMember?.businessName }}
          </h6>

          <div
            class="hidden sm:block bg-orange-50 rounded-xl px-3 shadow-sm text-black"
          >
            <h3 class="text-sm whitespace-nowrap text-orange-500">
              {{ getJobType() }}
            </h3>
          </div>
          <div
            class="hidden sm:block bg-blue-50 rounded-xl px-3 shadow-sm text-black"
          >
            <h3 class="text-sm whitespace-nowrap text-blue-500">
              No of Applicants : {{ jobPost?.applicantsCount }}
            </h3>
          </div>
        </div>
      </div>
    </div>

    <div class="flex flex-col mr-3 mt-2">
      <div class="flex gap-1">
        <span
          class="pi pi-map-marker"
          style="font-size: 1.3rem; color: #1d4ed8"
        ></span>
        <h6 class="text-sm sm:text-lg ml-1 text-black">
          {{ bakeMember?.district }}
        </h6>
      </div>

      <p class="mt-1 ml-1 text-xs sm:text-sm font-poppins-regular">
        {{ getPostedDate(jobPost?.createdDate) }}
      </p>
    </div>
  </div>

  <div class="flex flex-nowrap gap-4 mt-1 mb-2 ml-3"></div>
  <!-- <div
    (click)="viewJob()"
    class="bg-blue-600 flex gap-4 my-2 mx-3 p-2 rounded-xl justify-center items-center"
  >
    <span
      class="pi pi-briefcase"
      style="font-size: 1.5rem; color: #d1d9e0"
    ></span>
    <p
      *ngIf="recommendedJob.appliedStatus != 1"
      class="text-sm text-white"
    >
      View Job
    </p>
    <p
      *ngIf="recommendedJob.appliedStatus == 1"
      class="text-sm text-primary-white"
    >
      Applied
    </p>
  </div> -->

  <div class="bg-white rounded-xl px-1 py-2 shadow-sm flex gap-2 pb-5">
    <div
      class="sm:hidden block bg-green-50 rounded-xl px-3 shadow-sm text-black"
    >
      <h3 class="text-sm whitespace-nowrap text-green-500">
        &#8377; {{ jobPost?.salary }}
      </h3>
    </div>
    <div
      class="sm:hidden block bg-orange-50 rounded-xl px-3 shadow-sm text-black"
    >
      <h3 class="text-sm whitespace-nowrap text-orange-500">
        {{ getJobType() }}
      </h3>
    </div>
    <div
      class="sm:hidden block bg-blue-50 rounded-xl px-3 shadow-sm text-black"
    >
      <h3 class="text-sm whitespace-nowrap text-blue-500">
        No of Applicants : {{ jobPost?.applicantsCount }}
      </h3>
    </div>
  </div>
</div>

<p-dialog
  header="View Profile"
  [(visible)]="profileDialog"
  [modal]="true"
  [style]="{ width: '100%', height: '100%' }"
  [maximizable]="true"
  (onShow)="dialog.maximize()"
>
  <ng-template pTemplate="content">
    <personal-information
      [userProfileData]="jobSeekerProfile"
    ></personal-information>
  </ng-template>
</p-dialog>

<!-- 
 <div
  class="mt-3 border-2 border-blue-600 mb-2 bg-gray-100 ml-1 rounded-xl flex flex-col "
>
  <div class="flex py-2 w-full justify-between">
    <div>
      <img
        [src]="
          displayImage ||
          '../../../../../assets/bake.png'
        "
        class="w-20 h-20 ml-2 rounded-full"
      />
    </div>
    <div class="py-1 -ml-6">
      <h2 class="text-xl">{{ jobPost?.title }}</h2>
      <h6 class="text-sm">
        {{ bakeMember?.businessName}}
      </h6>
    </div>

    <div class="flex mr-3 mt-2 justify-center">
      <span
        class="pi pi-map-marker"
        style="font-size: 1rem; color: #1d4ed8"
      ></span>
      <h6 class="text-xs ml-1">
        {{ bakeMember?.district }}
      </h6>
    </div>
  </div>
  <div class="border-t border-blue-700 my-1 mx-1"></div>

  <div class="flex flex-nowrap gap-4 mt-1 mb-2 ml-3 ">
    <div class="bg-white rounded-xl px-4 py-2 shadow-sm">
      <h3 class="text-sm whitespace-nowrap">&#8377; {{ getJobType()}}</h3>
    </div>
    <div class="bg-white rounded-xl px-4 py-2 shadow-sm">
      <h3 class="text-sm whitespace-nowrap">No of applicants : 500</h3>
    </div>
  
  </div>
  <div
    (click)="seeApplicants(jobPost?.id)"
    class="bg-blue-600 flex gap-4 my-2 mx-3 p-2 rounded-xl justify-center items-center"
  >
    <span
      class="pi pi-briefcase"
      style="font-size: 1.5rem; color: #d1d9e0"
    ></span>
  
    <p
      class="text-sm text-primary-white"
    >
      View Applicants
    </p>
  </div>
</div> -->

<p-dialog
  header="View Applicants"
  [(visible)]="displayDialog"
  [modal]="true"
  [style]="{ width: '100%', height: '100%' }"
  [maximizable]="true"
  #dialog
  (onShow)="dialog.maximize()"
>
<p-toast position="top-center" key="tc"></p-toast>
  <ng-template pTemplate="content">
    
    <div class="flex justify-center">
      <button type="button" pButton pRipple (click)="show()" class="p-button-warning"></button>
 
        <ng-template let-message pTemplate="message">
        
              
                    <h4>{{message.summary}}</h4>
                    <p>{{message.detail}}</p>
                
            
            
        </ng-template>
  
    </div>
    <div class="mt-3 border-2 sm:w-[740px] w-full me-2 bg-white rounded-xl">
      <div class="flex py-2 justify-between">
        <div class="flex">
        
          <div>
            <img
              [src]="displayImage || '../../../../../assets/bake.png'"
              class="w-16 h-16 ml-2 rounded-lg"
            />
          </div>
          <div class="py-1 ms-3">

            <h2 class="text-base sm:text-2xl">{{ jobPost?.title }}</h2>
            <div class="flex mt-1 gap-4">
              <h6 class="text-sm text-dark-5 font-poppins-regular">
                {{ bakeMember?.businessName }}
              </h6>

              <div
                class="hidden sm:block bg-orange-50 rounded-xl px-3 shadow-sm text-black"
              >
                <h3 class="text-sm whitespace-nowrap text-orange-500">
                  {{ getJobType() }}
                </h3>
              </div>
              <div
                class="hidden sm:block bg-blue-50 rounded-xl px-3 shadow-sm text-black"
              >
                <h3 class="text-sm whitespace-nowrap text-blue-500">
                  No of Applicants : {{ jobPost?.applicantsCount }}
                </h3>
              </div>
            </div>
          </div>
        </div>

        <div class="flex flex-col mr-3 mt-2">
          <div class="flex gap-1 ml-10 sm:ml-0">
            <span
              class="pi pi-map-marker"
              style="font-size: 1.3rem; color: #1d4ed8"
            ></span>
            <h6 class="text-sm sm:text-lg ml-1 text-black">
              {{ bakeMember?.district }}
            </h6>
          </div>

          <p class="mt-1 ml-1 text-xs sm:text-sm font-poppins-regular">
            {{ getPostedDate(jobPost?.createdDate) }}
          </p>
        </div>
      </div>

      <div class="bg-white rounded-xl px-1 py-2 shadow-sm flex gap-2 pb-5">
        <div
          class="sm:hidden block bg-green-50 rounded-xl px-3 shadow-sm text-black"
        >
          <h3 class="text-sm whitespace-nowrap text-green-500">
            &#8377; {{ jobPost?.salary }}
          </h3>
        </div>
        <div
          class="sm:hidden block bg-orange-50 rounded-xl px-3 shadow-sm text-black"
        >
          <h3 class="text-sm whitespace-nowrap text-orange-500">
            {{ getJobType() }}
          </h3>
        </div>
        <div
          class="sm:hidden block bg-blue-50 rounded-xl w-full px-1 shadow-sm text-black"
        >
          <h3 class="text-sm whitespace-nowrap text-blue-500">
            No of Applicants : {{ jobPost?.applicantsCount }}
          </h3>
        </div>
      </div>
    </div>

    <div class="grid gap-4 lg:grid-cols-4 mt-4">
      <div
        *ngFor="let jobSeeker of jobSeekers"
        class="mt-3 p-2 bg-primary-white w-full rounded-lg"
      >
        <div>
          <div class="flex gap-4 justify-between">
            <div class="flex gap-2">
              <img
                src="../../../../../assets/image.png "
                class="h-10 w-10 my-1 border-2 rounded-full"
                alt="Job Seeker Image"
                srcset=""
              />
              <div class="mt-2">
                <h2 class="text-lg font-semibold">
                  {{ jobSeeker?.firstName + " " + jobSeeker?.lastName }}
                </h2>
              </div>
            </div>
            <div
              (click)="
                toggleBookmark(jobSeeker?.profileId, bakeMember?.memberId)
              "
            >
              <svg
                *ngIf="!jobSeeker?.isBookmarked"
                xmlns="http://www.w3.org/2000/svg"
                width="1.2em"
                height="1.2em"
                viewBox="0 0 24 24"
                class="bookmark-icon"
              >
                <path
                  fill="#4f7af0"
                  d="M5 2h14a1 1 0 0 1 1 1v19.143a.5.5 0 0 1-.766.424L12 18.03l-7.234 4.536A.5.5 0 0 1 4 22.143V3a1 1 0 0 1 1-1m13 2H6v15.432l6-3.761l6 3.761z"
                />
              </svg>
              <svg  *ngIf="jobSeeker?.isBookmarked"
                xmlns="http://www.w3.org/2000/svg"
                width="1.2em"
                height="1.2em"
                viewBox="0 0 15 15"
              >
                <path
                  fill="#1d4ed8"
                  d="M13 0H2v14.5a.5.5 0 0 0 .812.39L7.5 11.14l4.688 3.75A.5.5 0 0 0 13 14.5z"
                />
              </svg>
            </div>
          </div>

          <div>
            <div class="flex justify-between sm:justify-normal gap-2">
              <div (click)="callJobSeeker(jobSeeker)"
                class="p-2 w-full mt-4 text-center rounded-lg bg-blue-600 ring-1 hover:bg-blue-300 text-white"
              >
                <a [href]="'tel:' + jobSeeker?.mobileNumber">
                  <div>Call</div>
                </a>
              </div>

              <div
                (click)="viewProfile(jobSeeker)"
                class="p-2 mt-4 w-full text-center rounded-lg ring-1 bg-gray-50 text-black hover:bg-blue-300"
              >
                View Profile
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</p-dialog>


